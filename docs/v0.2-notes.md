# Jakal V0.2 - Database Integration and CLI Expansion

## Release Summary

- Release line: `0.2.x`
- Initial release date (`0.2.0`): February 12, 2026
- Maintenance update (`0.2.1`): February 13, 2026
- Status: stable

## What v0.2 Delivered

### Database Integration

- SQLite-backed persistence with three core tables:
  - `players`
  - `stats_snapshots`
  - `computed_metrics`
- Multiple snapshots per player across dates/seasons
- Persistent derived metrics storage

### Metrics and Role Outputs

- Entry, clutch, teamplay, and impact-oriented derived metrics
- Role score model and classification output
- Latest-metrics retrieval from database

### Comparison and CLI

- Multi-player comparison from latest snapshots
- Detailed player view in terminal menu
- Improved input validation and error messaging

## `0.2.1` Hardening Highlights

- Automatic schema migration for legacy local databases
- Device classification for profiles (`pc`, `xbox`, `playstation`)
- Auto-captured snapshot timestamp during import
- Tie-safe comparison winner logic
- Snapshot/metrics integrity fix for backfilled (older-date) inserts
- Safer clutch metric calculation with partial JSON payloads

## Current Schema Snapshot

### `players`

- `player_id`, `username`, `device_tag`, `tag`, `notes`, `created_at`

### `stats_snapshots`

- Snapshot metadata (`snapshot_date`, `snapshot_time`, `season`)
- Raw parsed stat fields
- `clutches_data` JSON

### `computed_metrics`

- Core and advanced derived metrics
- Role and confidence fields
- `snapshot_id` and `player_id` linkage

## Testing

- Unit and integration coverage across parser, database, calculator, and comparator flows
- Current suite status at time of writing: all tests passing

## Follow-up Milestone

- `v0.3.1` delivered `src/analyzer.py` automated insight generation with rule-based outputs.
- Next target is `v0.4` for export/reporting and saved insight workflows.
