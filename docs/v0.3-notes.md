# Jakal V0.3.x - Insight Generation and Metrics Expansion

## Release Summary

- Release line: `0.3.x`
- Initial insight release (`0.3.1`): February 13, 2026
- Metrics expansion update (`0.3.2`): February 13, 2026
- Status: stable

## What Shipped

### Insight Engine

- Added `src/analyzer.py` with deterministic, rule-based insights.
- Standardized insight payload for downstream use:
  - `severity`
  - `category`
  - `message`
  - `evidence`
  - `action`

### Rule Coverage

- Small sample-size caution
- High K/D and low win conversion signal
- Entry efficiency vs aggression mismatch
- Clutch attempt/conversion quality checks
- Teamplay/assist contribution flags
- Teamkill discipline checks
- Efficiency (`wins_per_hour`) and impact-vs-win signals
- Baseline fallback insight when no major flags trigger

## `0.3.2` Expansion Highlights

- Added a broad metrics expansion pack to `src/calculator.py`, including:
  - Combat involvement and weighted contribution metrics
  - Opening duel depth metrics
  - Clutch depth and high-pressure metrics
  - Survival/risk metrics
  - Time-normalized productivity metrics
  - Discipline and confidence weighting metrics
- Expanded insights in `src/analyzer.py` to use new metrics:
  - Opening control
  - High-pressure clutch performance
  - Risk profile
  - Clean-play scoring
  - Confidence-aware messaging
- Updated details flow to recalculate metrics from snapshot data so newest formulas are always available.

### App Integration

- Insights now generate on snapshot ingest.
- Top insight is displayed after successful import.
- Player details view now includes an `INSIGHTS` section.

### Quality and Testing

- Added `tests/test_analyzer.py` for schema and rule behavior checks.
- Added calculator/analyzer coverage for expansion metrics and confidence insights.
- Full test suite passing at release time.

## Next Target (v0.4)

- Export/reporting features
- Saved insight reports per player/snapshot
- Scrape-ready profile routing enhancements
